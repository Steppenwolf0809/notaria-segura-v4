# Ejemplo de variables de entorno - Notaría Segura (Backend)

# --- Base obligatoria ---
NODE_ENV=development
PORT=3001
DATABASE_URL=postgresql://user:pass@host:5432/db

# JWT Configuration (CRÍTICO para seguridad)
# IMPORTANTE: En producción, generar un secreto ÚNICO y ALEATORIO de al menos 64 caracteres
# Generador: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CAMBIAR_EN_PRODUCCION_usar_secreto_aleatorio_de_64_caracteres_minimo_______________________________
JWT_EXPIRES_IN=24h
# JWT_REFRESH_EXPIRES_IN=7d  # Para futuras mejoras con refresh tokens

# CSRF Protection (Requerido desde versión 2.0)
# Secreto para generación de tokens CSRF (mínimo 32 caracteres)
# Generador: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CSRF_SECRET=CAMBIAR_EN_PRODUCCION_usar_secreto_aleatorio_de_32_caracteres_minimo

# --- Twilio / WhatsApp ---
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_WHATSAPP_FROM=whatsapp:+1234567890
WHATSAPP_ENABLED=true

# --- PDF Extractor (Microservicio Python) ---
PDF_EXTRACTOR_BASE_URL=https://pdf-extractor.example.com
PDF_EXTRACTOR_TOKEN=
PDF_EXTRACTOR_TIMEOUT=30000

# --- Gemini (Google Generative AI) ---
# IMPORTANTE: Gemini 1.5 fue deprecado en Abril 2025
# Modelos válidos: gemini-2.5-flash, gemini-2.0-flash, gemini-2.5-pro
GEMINI_ENABLED=false
GOOGLE_API_KEY=
GEMINI_MODEL=gemini-2.5-flash
GEMINI_TIMEOUT=30000

# --- Concuerdos / LLM Flags (T2) ---
# Habilita un router sencillo para decidir estrategia LLM/Node
LLM_ROUTER_ENABLED=false

# Estrategia de extracción: hibrido | solo_gemini | solo_node
LLM_STRATEGY=hibrido

# Fuerza template estructural base en prompt o flujo: auto | A | B | C
PROMPT_FORCE_TEMPLATE=auto

# Activa el enrutador de estructura (A/B/C)
STRUCTURE_ROUTER_ENABLED=true

# Modo de plantillas: structural (A/B/C + mods) | family (por familia de actos)
TEMPLATE_MODE=structural

# Obliga a respuesta JSON estricta desde Gemini
GEMINI_JSON_MODE=true

# --- CORS / Frontend ---
FRONTEND_URL=http://localhost:5173
ALLOWED_ORIGINS=http://localhost:5173
ALLOWED_ORIGINS_DEV=http://localhost:5173

# --- Rate Limiting (Opcional) ---
# Configuración del rate limiter para login (en milisegundos)
# LOGIN_RATE_LIMIT_WINDOW=900000  # 15 minutos (default)
# LOGIN_RATE_LIMIT_MAX=50          # Intentos máximos (default: 50 para pruebas, usar 10 en producción)

# Configuración del rate limiter para auth general
# AUTH_RATE_LIMIT_WINDOW=900000    # 15 minutos (default)
# AUTH_RATE_LIMIT_MAX=100          # Requests máximos (default: 100 para pruebas, usar 20 en producción)